<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;"><table><tr><td><pre style="margin: 0; line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #8f5902; font-style: italic">/* In any card game design, the most common question</span>
<span style="color: #8f5902; font-style: italic"> * you might ask yourself is &quot;how to implement shuffle?&quot;</span>
<span style="color: #8f5902; font-style: italic"> * In Ruby enumerable module or Java collection, there</span>
<span style="color: #8f5902; font-style: italic"> * is a shuffle method you can use. But how about Javascript?</span>
<span style="color: #8f5902; font-style: italic"> * You need to implement it. I will show you the most common</span>
<span style="color: #8f5902; font-style: italic"> * algorithm you might want to use.</span>
<span style="color: #8f5902; font-style: italic"> */</span>

<span style="color: #8f5902; font-style: italic">// Fisher-Yates shuffle</span>
<span style="color: #204a87">Array</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">prototype</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">shuffle</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #204a87; font-weight: bold">function</span><span style="color: #000000; font-weight: bold">()</span> <span style="color: #000000; font-weight: bold">{</span>
    <span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">randomIndex</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">temp</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">i</span><span style="color: #000000; font-weight: bold">;</span>

    <span style="color: #204a87; font-weight: bold">for</span> <span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">i</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #204a87; font-weight: bold">this</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">length</span><span style="color: #000000; font-weight: bold">;</span> <span style="color: #000000">i</span> <span style="color: #ce5c00; font-weight: bold">&gt;</span> <span style="color: #0000cf; font-weight: bold">0</span><span style="color: #000000; font-weight: bold">;)</span> <span style="color: #000000; font-weight: bold">{</span>
      <span style="color: #000000">randomIndex</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #204a87">Math</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">floor</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #204a87">Math</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">random</span><span style="color: #000000; font-weight: bold">()</span> <span style="color: #ce5c00; font-weight: bold">*</span> <span style="color: #000000">i</span><span style="color: #000000; font-weight: bold">);</span>

      <span style="color: #000000">temp</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #204a87; font-weight: bold">this</span><span style="color: #000000; font-weight: bold">[</span><span style="color: #ce5c00; font-weight: bold">--</span><span style="color: #000000">i</span><span style="color: #000000; font-weight: bold">];</span>
      <span style="color: #204a87; font-weight: bold">this</span><span style="color: #000000; font-weight: bold">[</span><span style="color: #000000">i</span><span style="color: #000000; font-weight: bold">]</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #204a87; font-weight: bold">this</span><span style="color: #000000; font-weight: bold">[</span><span style="color: #000000">randomIndex</span><span style="color: #000000; font-weight: bold">];</span>
      <span style="color: #204a87; font-weight: bold">this</span><span style="color: #000000; font-weight: bold">[</span><span style="color: #000000">randomIndex</span><span style="color: #000000; font-weight: bold">]</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">temp</span><span style="color: #000000; font-weight: bold">;</span>
    <span style="color: #000000; font-weight: bold">}</span>

    <span style="color: #204a87; font-weight: bold">return</span> <span style="color: #204a87; font-weight: bold">this</span><span style="color: #000000; font-weight: bold">;</span>
<span style="color: #000000; font-weight: bold">}</span>

<span style="color: #000000; font-weight: bold">[</span> <span style="color: #0000cf; font-weight: bold">1</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #0000cf; font-weight: bold">2</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #0000cf; font-weight: bold">3</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #0000cf; font-weight: bold">4</span> <span style="color: #000000; font-weight: bold">].</span><span style="color: #000000">shuffle</span><span style="color: #000000; font-weight: bold">();</span>
</pre></td></tr></table></div>
